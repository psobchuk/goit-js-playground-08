{"mappings":"AAAA,SAAAA,kBAAAC,EAAAC,I,m8BAAA,IAAMC,QAAUC,SAASC,cAAc,YAEjCC,MAAQ,OACRC,MAAQ,OACRC,WAAa,SACbC,YAAc,UAEdC,QAAU,EACZC,QAAUC,KAAKC,MAAMC,aAAaC,QAAQN,eAAiB,EAE3DO,OAASF,aAAaC,QAAQP,aAAe,IAE3CS,MAAQL,KAAKC,MAAMC,aAAaC,QAAQT,SAAW,GACnDY,MAAQN,KAAKC,MAAMC,aAAaC,QAAQR,SAAW,GAEzD,SAASY,eACNC,mBAAGjB,QAAQkB,UAAUC,SAAQ,SAAAC,GAC5B,IAAMC,EAAKC,OAAOF,EAAKG,QAAQF,IAC3BP,MAAMU,SAASH,GACjBD,EAAKK,YAAc,IACVV,MAAMS,SAASH,KACxBD,EAAKK,YAAc,I,IAGvBC,QAAQC,IAAI3B,Q,CAGd,IAAM4B,KAAO,CACX,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IAGT,SAASC,eAEP,IADA,IAAIC,EAAS,GACJC,EAAI,EAAGA,GAAK,EAAGA,GAAK,EAC3BD,GAAU,8BAAgCE,OAAFD,EAAE,YAE5C/B,QAAQiC,UAAYH,C,CAQtB,SAASI,QAAQC,GACf,GAAKA,EAAIC,OAAOC,UAAUC,SAAS,UAG/BH,EAAIC,OAAOX,YAAf,CASA,IAAMc,EAAYjB,OAAOa,EAAIC,OAAOb,QAAQF,IAGxCmB,GAAS,EACbhC,SAAW,EAEI,MAAXK,QACFC,MAAM2B,KAAKF,GACX5B,aAAa+B,QAAQvC,MAAOM,KAAKkC,UAAU7B,QAC3C0B,EAASI,SAAS9B,SAElBC,MAAM0B,KAAKF,GACX5B,aAAa+B,QAAQtC,MAAOK,KAAKkC,UAAU5B,QAC3CyB,EAASI,SAAS7B,QAGpBoB,EAAIC,OAAOX,YAAcZ,OAErB2B,EACFK,SAAShC,QAIPL,UAAYD,SAKhBM,OAAoB,MAAXA,OAAiB,IAAM,IAChCF,aAAa+B,QAAQrC,WAAYQ,QACjCF,aAAa+B,QAAQpC,YAAaG,KAAKkC,UAAUnC,WAN/CqC,SAAS,eAhCT,C,CAyCJ,SAASA,SAASC,GAChBC,YAAW,WACTC,MAAMF,GACNjB,eACAlB,aAAasC,O,GACZ,I,CAgBL,SAASL,SAAS9C,GAChB,OAAO8B,KAAKsB,MAAK,SAAA9B,G,OAAQA,EAAK+B,OAAM,SAAA9B,G,OAAMvB,EAAI0B,SAASH,E,OAzEzDQ,eACAb,eAEAhB,QAAQoD,iBAAiB,QAASlB","sources":["src/js/xo-game.js"],"sourcesContent":["const content = document.querySelector('.content');\n\nconst KEY_X = 'keyX';\nconst KEY_O = 'keyO';\nconst KEY_PLAYER = 'player';\nconst KEY_COUNTER = 'counter';\n\nconst endGame = 9;\nlet counter = JSON.parse(localStorage.getItem(KEY_COUNTER)) || 0;\n\nlet player = localStorage.getItem(KEY_PLAYER) || 'X';\n\nconst stepX = JSON.parse(localStorage.getItem(KEY_X)) || [];\nconst stepO = JSON.parse(localStorage.getItem(KEY_O)) || [];\n\nfunction autoComplete() {\n  [...content.children].forEach(item => {\n    const id = Number(item.dataset.id);\n    if (stepX.includes(id)) {\n      item.textContent = 'X';\n    } else if (stepO.includes(id)) {\n      item.textContent = 'O';\n    }\n  });\n  console.dir(content);\n}\n\nconst wins = [\n  [1, 2, 3],\n  [4, 5, 6],\n  [7, 8, 9],\n  [1, 4, 7],\n  [2, 5, 8],\n  [3, 6, 9],\n  [1, 5, 9],\n  [3, 5, 7],\n];\n\nfunction createMarkup() {\n  let markup = '';\n  for (let i = 1; i <= 9; i += 1) {\n    markup += `<div class=\"item\" data-id=\"${i}\"></div>`;\n  }\n  content.innerHTML = markup;\n}\n\ncreateMarkup();\nautoComplete();\n\ncontent.addEventListener('click', onClick);\n\nfunction onClick(evt) {\n  if (!evt.target.classList.contains('item')) {\n    return;\n  }\n  if (evt.target.textContent) {\n    return;\n  }\n  //   if (evt.target === evt.currentTarget) {\n  //     return;\n  //   }\n  //   console.log(evt.target);\n  //   console.log(evt.curretarget);\n\n  const currentId = Number(evt.target.dataset.id);\n  //   console.log(currentId);\n\n  let result = false;\n  counter += 1;\n\n  if (player === 'X') {\n    stepX.push(currentId);\n    localStorage.setItem(KEY_X, JSON.stringify(stepX));\n    result = isWinner(stepX);\n  } else {\n    stepO.push(currentId);\n    localStorage.setItem(KEY_O, JSON.stringify(stepO));\n    result = isWinner(stepO);\n  }\n\n  evt.target.textContent = player;\n\n  if (result) {\n    champion(player);\n    return;\n  }\n\n  if (counter === endGame) {\n    champion('RESTART GAME');\n    return;\n  }\n\n  player = player === 'X' ? 'O' : 'X';\n  localStorage.setItem(KEY_PLAYER, player);\n  localStorage.setItem(KEY_COUNTER, JSON.stringify(counter));\n}\n\nfunction champion(player) {\n  setTimeout(() => {\n    alert(player);\n    createMarkup();\n    localStorage.clear();\n  }, 500);\n}\n\n// function isWinner(arr) {\n//     console.log('Історія ходів: ', arr);\n//     return wins.some(item => {\n//       console.log('item', item);\n//       const result = item.every(id => {\n//         console.log('id', id);\n//         return arr.includes(id);\n//       });\n//       console.log('result: ', result);\n//       return result;\n//     });\n// }\n\nfunction isWinner(arr) {\n  return wins.some(item => item.every(id => arr.includes(id)));\n}\n"],"names":["_arrayLikeToArray","arr","len","content","document","querySelector","KEY_X","KEY_O","KEY_PLAYER","KEY_COUNTER","endGame","counter","JSON","parse","localStorage","getItem","player","stepX","stepO","autoComplete","_toConsumableArray","children","forEach","item","id","Number","dataset","includes","textContent","console","dir","wins","createMarkup","markup","i","concat","innerHTML","onClick","evt","target","classList","contains","currentId","result","push","setItem","stringify","isWinner","champion","player1","setTimeout","alert","clear","some","every","addEventListener"],"version":3,"file":"xo-game.e042b022.js.map"}